/* Staff Panel Design System - Black Mesa */

/* === Loading & Auth States === */
.staff-loading {
  height: 100vh;
  display: grid;
  place-items: center;
  background: radial-gradient(1100px 600px at 15% -10%, rgba(177,18,28,.20), transparent 55%), radial-gradient(900px 700px at 90% 0%, rgba(255,43,58,.12), transparent 60%), linear-gradient(180deg, #070a10, #04060a 70%);
  color: #e9ecf1;
}

.staff-auth-card {
  text-align: center;
  padding: 40px;
  border-radius: 24px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(12,16,22,.55);
  backdrop-filter: blur(18px);
  max-width: 380px;
}

.staff-auth-card h1 { margin: 0 0 12px; font-size: 24px; }
.staff-auth-card p { margin: 0 0 24px; color: rgba(255,255,255,.55); font-size: 14px; }

.staff-login-btn, .staff-home-btn {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 14px 24px;
  border-radius: 14px;
  border: 1px solid rgba(177,18,28,.55);
  background: rgba(177,18,28,.12);
  color: #fff;
  font: 14px/1 ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  cursor: pointer;
  text-decoration: none;
  transition: transform .18s ease, box-shadow .18s ease;
}
.staff-login-btn:hover, .staff-home-btn:hover { transform: translateY(-2px); box-shadow: 0 0 30px rgba(177,18,28,.25); }

/* Mobile overlay */
.staff-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.65); backdrop-filter: blur(4px); z-index: 15; }
.staff-side-close { position: absolute; top: 16px; right: 16px; width: 36px; height: 36px; border-radius: 12px; border: 1px solid rgba(255,255,255,.10); background: rgba(0,0,0,.30); color: #fff; cursor: pointer; display: none; }
.staff-mobile-menu { display: none; width: 42px; height: 42px; border-radius: 14px; border: 1px solid rgba(255,255,255,.10); background: rgba(0,0,0,.20); color: #fff; cursor: pointer; place-items: center; }
.staff-chip-dot { width: 8px; height: 8px; border-radius: 50%; background: #2bff9b; box-shadow: 0 0 10px rgba(43,255,155,.7); }
.staff-side-open { transform: translateX(0) !important; }

@media (max-width: 1100px) {
  .staff-side { position: fixed; left: 84px; top: 0; bottom: 0; width: 290px; transform: translateX(-100%); transition: transform .25s ease; z-index: 20; }
  .staff-side-close { display: grid; place-items: center; }
}

@media (max-width: 768px) {
  .staff-rail { display: none; }
  .staff-side { left: 0; width: 100%; max-width: 320px; }
  .staff-mobile-menu { display: grid; }
  .staff-tabs { display: none; }
}

/* Film grain + scan */
    @keyframes staff-drift{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(-22px,18px,0)}}

    @keyframes staff-sweep{0%{transform:translateX(-28%)}100%{transform:translateX(28%)}}

    .staff-app{
      height:100%;
      display:grid;
      grid-template-columns: 84px 290px 1fr;
    }

    /* Left glyph rail */
    .staff-rail{
      background:linear-gradient(180deg, rgba(12,16,22,.75), rgba(6,8,12,.85));
      border-right:1px solid var(--line2);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:14px;
      padding:16px 10px;
      position:relative;
    }
    .staff-rail::before{
      content:"";
      position:absolute;left:10px;right:10px;top:68px;height:1px;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
    }
    .staff-sigil{
      width:46px;height:46px;border-radius:14px;
      background:linear-gradient(180deg, rgba(177,18,28,.28), rgba(177,18,28,.06));
      border:1px solid rgba(177,18,28,.35);
      box-shadow:0 0 26px rgba(177,18,28,.20);
      display:grid;place-items:center;
      font-family:'Permanent Marker',cursive;
      letter-spacing:.5px;
    }
    .staff-sigil span{transform:rotate(-7deg)}

    .staff-railbtn{
      width:46px;height:46px;border-radius:14px;
      display:grid;place-items:center;
      border:1px solid var(--line);
      background:rgba(0,0,0,.20);
      color:var(--mut);
      cursor:pointer;
      transition:transform .18s ease, background .18s ease, box-shadow .18s ease, border-color .18s ease;
      position:relative;
      overflow:hidden;
    }
    .staff-railbtn::after{
      content:"";
      position:absolute;inset:-30px;
      background:radial-gradient(circle at 30% 30%, rgba(177,18,28,.30), transparent 55%);
      opacity:0;
      transition:opacity .18s ease;
    }
    .staff-railbtn:hover{transform:translateY(-1px);border-color:rgba(177,18,28,.45);box-shadow:0 0 22px rgba(177,18,28,.18)}
    .staff-railbtn:hover::after{opacity:1}
    .staff-railbtn.active{background:rgba(177,18,28,.10);border-color:rgba(177,18,28,.55);color:#fff;box-shadow:0 0 26px rgba(177,18,28,.22)}

    .staff-dot{
      width:8px;height:8px;border-radius:50%;
      background:var(--ok);
      box-shadow:0 0 12px rgba(43,255,155,.8);
    }

    /* Sidebar */
    .staff-side{
      background:linear-gradient(180deg, rgba(10,12,18,.85), rgba(6,8,12,.92));
      border-right:1px solid var(--line2);
      padding:18px 18px 16px;
      overflow:hidden;
      position:relative;
    }
    .staff-side::before{
      content:"";
      position:absolute;inset:0;
      background:radial-gradient(400px 240px at 15% 10%, rgba(177,18,28,.18), transparent 60%);
      pointer-events:none;
      opacity:.9;
    }

    .staff-brand{
      position:relative;
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      margin-bottom:14px;
    }
    .staff-brand .name{
      font-family:'Permanent Marker',cursive;
      font-size:28px;
      letter-spacing:1px;
      line-height:1;
      text-shadow:0 0 18px rgba(177,18,28,.18);
    }
    .staff-brand .name b{color:var(--red)}
    .staff-brand .tag{
      font: 11px/1 var(--mono);
      color:rgba(255,255,255,.55);
      border:1px solid rgba(255,255,255,.10);
      padding:6px 10px;
      border-radius:999px;
      background:rgba(0,0,0,.20);
    }

    .staff-search{
      position:relative;
      margin:14px 0 16px;
    }
    .staff-search input{
      width:100%;
      padding:12px 12px 12px 42px;
      border-radius:14px;
      border:1px solid var(--line);
      background:rgba(0,0,0,.22);
      color:var(--txt);
      outline:none;
      transition:border-color .2s ease, box-shadow .2s ease;
    }
    .staff-search input:focus{border-color:rgba(177,18,28,.55);box-shadow:0 0 0 3px rgba(177,18,28,.18)}
    .staff-search .k{
      position:absolute;left:12px;top:50%;transform:translateY(-50%);
      font: 12px/1 var(--mono);
      color:rgba(255,255,255,.55);
      padding:6px 7px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.18);
    }

    .staff-menu{display:flex;flex-direction:column;gap:6px;position:relative}
    .staff-menu-item{
      display:flex;align-items:center;justify-content:space-between;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.06);
      background:rgba(0,0,0,.14);
      color:var(--mut);
      cursor:pointer;
      transition:background .18s ease, border-color .18s ease, transform .18s ease;
      position:relative;
      overflow:hidden;
    }
    .staff-menu-item .left{display:flex;align-items:center;gap:10px}
    .staff-menu-item .pill{
      font: 11px/1 var(--mono);
      color:rgba(255,255,255,.65);
      border:1px solid rgba(255,255,255,.10);
      padding:5px 8px;
      border-radius:999px;
      background:rgba(0,0,0,.20);
    }
    .staff-menu-item::after{
      content:"";
      position:absolute;inset:-40px;
      background:radial-gradient(circle at 25% 50%, rgba(177,18,28,.22), transparent 55%);
      opacity:0;
      transition:opacity .18s ease;
    }
    .staff-menu-item:hover{transform:translateX(1px);border-color:rgba(177,18,28,.35);background:rgba(177,18,28,.06);color:#fff}
    .staff-menu-item:hover::after{opacity:1}
    .staff-menu-item.active{border-color:rgba(177,18,28,.55);background:rgba(177,18,28,.10);color:#fff}

    .staff-side-footer{
      margin-top:14px;
      padding-top:14px;
      border-top:1px solid rgba(255,255,255,.06);
      position:relative;
    }
    .staff-identity{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(0,0,0,.18);
    }
    .staff-identity-info{display:flex;flex-direction:column;gap:4px}
    .staff-identity-info .u{font-weight:700;font-size:13px}
    .staff-identity-info .r{font: 11px/1 var(--mono);color:rgba(255,255,255,.55)}
    .staff-identity-badge{
      width:34px;height:34px;border-radius:12px;
      border:1px solid rgba(177,18,28,.55);
      background:linear-gradient(180deg, rgba(177,18,28,.26), rgba(0,0,0,.18));
      box-shadow:0 0 22px rgba(177,18,28,.20);
      display:grid;place-items:center;
      font: 12px/1 var(--mono);
    }

    /* Main */
    .staff-main{
      position:relative;
      padding:18px 20px 20px;
      overflow:auto;
    }

    .staff-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      margin-bottom:14px;
    }

    .staff-tabs{
      display:flex;flex-wrap:wrap;gap:10px;
      padding:10px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.06);
      background:rgba(0,0,0,.16);
      position:relative;
      overflow:hidden;
    }
    .staff-tabs::before{
      content:"";
      position:absolute;inset:0;
      background:radial-gradient(520px 260px at 20% 50%, rgba(177,18,28,.14), transparent 55%);
      opacity:.8;
      pointer-events:none;
    }

    .staff-tab{
      position:relative;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.06);
      background:rgba(0,0,0,.18);
      color:rgba(255,255,255,.65);
      cursor:pointer;
      transition:transform .18s ease, border-color .18s ease, background .18s ease, color .18s ease;
      font: 12px/1 var(--mono);
    }
    .staff-tab:hover{transform:translateY(-1px);border-color:rgba(177,18,28,.35);color:#fff}
    .staff-tab.active{border-color:rgba(177,18,28,.55);background:rgba(177,18,28,.10);color:#fff}
    .staff-tab.active::after{
      content:"";
      position:absolute;left:12px;right:12px;bottom:7px;height:2px;
      background:linear-gradient(90deg, transparent, rgba(255,43,58,.9), transparent);
      filter:blur(.1px);
      animation:staff-underline 1.35s ease-in-out infinite;
      opacity:.9;
    }
    @keyframes staff-underline{0%,100%{transform:scaleX(.75);opacity:.55}50%{transform:scaleX(1);opacity:1}}

    .staff-statusbar{
      display:flex;gap:10px;align-items:center;flex-wrap:wrap;
      padding:10px 12px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.06);
      background:rgba(0,0,0,.16);
    }
    .staff-chip{
      display:flex;align-items:center;gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.20);
      font: 12px/1 var(--mono);
      color:rgba(255,255,255,.75);
      position:relative;
      overflow:hidden;
    }
    .staff-chip b{color:#fff}
    .staff-chip.red{border-color:rgba(177,18,28,.35)}
    .staff-chip.red::before{
      content:"";
      position:absolute;inset:0;
      background:radial-gradient(circle at 20% 50%, rgba(177,18,28,.22), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }

    .staff-alert{
      margin:10px 0 16px;
      padding:14px 16px;
      border-radius:18px;
      border:1px solid rgba(177,18,28,.45);
      background:linear-gradient(90deg, rgba(177,18,28,.18), rgba(0,0,0,.15));
      box-shadow:0 0 35px rgba(177,18,28,.22) inset;
      position:relative;
      overflow:hidden;
    }
    .staff-alert::after{
      content:"";
      position:absolute;inset:-30px;
      background:repeating-linear-gradient(-45deg, rgba(255,43,58,.14) 0, rgba(255,43,58,.14) 8px, transparent 8px, transparent 18px);
      opacity:.20;
      transform:translateX(-10%);
      animation:staff-haz 6.5s linear infinite;
      pointer-events:none;
    }
    @keyframes staff-haz{0%{transform:translateX(-12%)}100%{transform:translateX(12%)}}

    .staff-grid{
      display:grid;
      grid-template-columns: 1.35fr .95fr;
      gap:14px;
    }
    @media (max-width:1100px){.staff-app{grid-template-columns:84px 1fr}.staff-side{display:none}.staff-grid{grid-template-columns:1fr}}

    .staff-panel{
      border:1px solid rgba(255,255,255,.07);
      background:var(--glass);
      border-radius:22px;
      backdrop-filter: blur(18px);
      position:relative;
      overflow:hidden;
      box-shadow: 0 18px 45px rgba(0,0,0,.35);
    }
    .staff-panel::before{
      content:"";
      position:absolute;inset:0;
      background:radial-gradient(720px 280px at 20% 10%, rgba(177,18,28,.16), transparent 60%);
      pointer-events:none;
    }

    /* Corner brackets */
    .staff-bracket{
      position:absolute;width:14px;height:14px;
      border:2px solid rgba(255,255,255,.12);
      opacity:.9;
    }
    .staff-bracket.tl{left:14px;top:14px;border-right:none;border-bottom:none;border-color:rgba(255,43,58,.35)}
    .staff-bracket.tr{right:14px;top:14px;border-left:none;border-bottom:none}
    .staff-bracket.bl{left:14px;bottom:14px;border-right:none;border-top:none}
    .staff-bracket.br{right:14px;bottom:14px;border-left:none;border-top:none;border-color:rgba(177,18,28,.28)}

    .staff-panel-head{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:16px 16px 10px;
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .staff-panel-title{
      display:flex;align-items:baseline;gap:10px;flex-wrap:wrap;
    }
    .staff-panel-title h1{
      margin:0;
      font-size:16px;
      letter-spacing:.3px;
    }
    .staff-panel-title .meta{
      font: 11px/1 var(--mono);
      color:rgba(255,255,255,.55);
    }

    .staff-tools{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .staff-btn{
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.20);
      color:#fff;
      padding:10px 12px;
      border-radius:14px;
      cursor:pointer;
      font: 12px/1 var(--mono);
      transition:transform .18s ease, border-color .18s ease, box-shadow .18s ease;
      position:relative;
      overflow:hidden;
    }
    .staff-btn:hover{transform:translateY(-1px);border-color:rgba(177,18,28,.45);box-shadow:0 0 26px rgba(177,18,28,.16)}
    .staff-btn.primary{border-color:rgba(177,18,28,.55);background:rgba(177,18,28,.12)}

    .staff-panel-content{padding:14px 16px 16px}

    /* Metrics as rows, not basic cards */
    .staff-metrics{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width:1100px){.staff-metrics{grid-template-columns:1fr}}

    .staff-metric-row{
      border:1px solid rgba(255,255,255,.08);
      background:rgba(0,0,0,.16);
      border-radius:18px;
      padding:12px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      position:relative;
      overflow:hidden;
    }
    .staff-metric-row::before{
      content:"";
      position:absolute;inset:-30px;
      background:radial-gradient(circle at 15% 50%, rgba(177,18,28,.18), transparent 60%);
      opacity:.0;
      transition:opacity .18s ease;
      pointer-events:none;
    }
    .staff-metric-row:hover::before{opacity:.9}

    .staff-metric-row .k{font: 11px/1 var(--mono);color:rgba(255,255,255,.55)}
    .staff-metric-row .v{font-size:22px;font-weight:800;letter-spacing:.2px}
    .staff-metric-delta{
      font: 11px/1 var(--mono);
      padding:6px 8px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.18);
      color:rgba(255,255,255,.70);
    }
    .staff-metric-delta.ok{border-color:rgba(43,255,155,.35);color:rgba(43,255,155,.95)}
    .staff-metric-delta.bad{border-color:rgba(255,68,85,.35);color:rgba(255,68,85,.95)}

    /* Live canvases */
    canvas{display:block;width:100%;height:100%}

    .staff-split{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:10px;
      margin-top:10px;
    }
    @media (max-width:1100px){.staff-split{grid-template-columns:1fr}}

    .staff-mini{
      height:170px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(0,0,0,.14);
      border-radius:18px;
      overflow:hidden;
      position:relative;
    }
    .staff-mini .cap{
      position:absolute;left:12px;top:10px;
      font: 11px/1 var(--mono);
      color:rgba(255,255,255,.60);
      display:flex;gap:10px;align-items:center;
      z-index:2;
    }
    .staff-mini .cap .led{
      width:8px;height:8px;border-radius:50%;
      background:var(--warn);
      box-shadow:0 0 10px rgba(255,204,102,.7);
    }
    .staff-mini .cap .led.ok{background:var(--ok);box-shadow:0 0 10px rgba(43,255,155,.7)}

    .staff-queue{
      display:flex;flex-direction:column;gap:8px;
      margin-top:10px;
    }
    .staff-queue-item{
      border:1px solid rgba(255,255,255,.08);
      background:rgba(0,0,0,.14);
      border-radius:16px;
      padding:10px 12px;
      display:flex;align-items:flex-start;justify-content:space-between;gap:10px;
      position:relative;
      overflow:hidden;
    }
    .staff-queue-item::before{
      content:"";
      position:absolute;left:0;top:0;bottom:0;width:3px;
      background:rgba(255,255,255,.12);
    }
    .staff-queue-item.bad::before{background:rgba(255,68,85,.8)}
    .staff-queue-item.warn::before{background:rgba(255,204,102,.9)}
    .staff-queue-item.ok::before{background:rgba(43,255,155,.85)}
    .staff-queue-item .t{font-weight:700;font-size:12px}
    .staff-queue-item .d{font: 11px/1.35 var(--mono);color:rgba(255,255,255,.55);margin-top:4px}
    .staff-queue-item .s{font: 11px/1 var(--mono);color:rgba(255,255,255,.55)}

    .staff-console{
      height:210px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(0,0,0,.18);
      border-radius:18px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .staff-console .out{
      flex:1;
      padding:12px;
      font: 11px/1.55 var(--mono);
      color:rgba(233,236,241,.85);
      overflow:auto;
    }
    .staff-console .bar{
      border-top:1px solid rgba(255,255,255,.06);
      padding:10px;
      display:flex;gap:10px;align-items:center;
    }
    .staff-console input{
      flex:1;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.20);
      color:#fff;
      outline:none;
      font: 12px/1 var(--mono);
    }
    .staff-console input:focus{border-color:rgba(177,18,28,.55);box-shadow:0 0 0 3px rgba(177,18,28,.18)}

    /* Small icon primitives */
    .ico{width:16px;height:16px;display:inline-block}
    .ico svg{width:16px;height:16px;display:block}

    /* Subtle glitch on hover for headers */
    .glitch{
      position:relative;
      display:inline-block;
    }
    .glitch:hover{
      text-shadow:
        -1px 0 rgba(255,43,58,.45),
        1px 0 rgba(43,255,155,.22);
      animation:staff-glitch 120ms steps(2) 2;
    }
    @keyframes staff-glitch{
      0%{transform:translateX(0)}
      50%{transform:translateX(-1px)}
      100%{transform:translateX(0)}
    }
  